#summary Installing, configuring, and running the SimianGrid Services

= Installation =

= A word about dependencies =
Make sure you have the all of the prerequisites installed. These will vary based on Operating System and Operating System version. Only a few linux distributions have seen deployments; they are listed below with the commands to install their dependencies:

  _Debian/Ubuntu_:
    `apt-get install apache2 php5 php5-mysql php5-curl php5-gd php5-xmlrpc mysql-server`

  _OpenSUSE_:
    `zypper install apache2 php5 php5-mysql php5-curl php5-gd php5-xmlrpc php5-openssl mysql`

Note: fairly recent linux distros are required, or must otherwise be made to supply php 5.3 and mysql 5.1

Windows has seen successful deployments using both XAMP and manually installed apache2/php5/mysql.

== MySQL Tuning ==

You will want to add the following to your MySQL's 'My.cnf'. If the section [mysqld] already exists, just add the max_allowed_packet directive to it:

[mysqld]
   `max_allowed_packet=16M`



= Services Overview =

Simian Grid Services currently come in a set of three. These are GridFrontend, Grid, and GridWebDAV. These services provide a grid user account management interface (including a user/grid management interface for those with suitable access), a Grid backend, which provides various services that comprise a grid in the OpenSimulator technology paradigm, including inventory, assets, user accounts, region registration, and others; and finally some limited WebDAV inventory management functionality.


= Installation Overview =

In the course of installation, you will address the following basic concerns to get Simian Grid Services up and running on an apache web server.

# Getting the Simian Grid Services

# placing the installer in the apache server path

# Establishing Database and Database Credentials

# Setting Permissions

# Running the installer

# Testing/Using Simian Grid Services


== Getting the Simian Grid Services ==

How you get Simian Grid Services will depend on who you are. If you are obtaining it as an end user, you will want to obtain the distribution release package from the OpenMetaverse Foundation website. If you are a  developer, you will need to prepare for git repository use (if you haven't already), and obtain the code from the OpenMetaverse Foundation GitHub site.

The distribution release package can be found at:
{{{
http://wheresmyfiles.com/download/me/some/simiangrid.php
}}}

and the source code repository is at:
{{{
git clone http://github.com/openmetaversefoundation/simiangrid.git
}}}



Place this, or a copy of it, somewhere accessible to your webserver. 

`SimianGrid` contains three projects, `Grid` (!SimianGrid), `GridFrontend` (!SimianGridFrontend), and `GridWebDAV` (SimianGridWebDAV). They have only been tested on apache2 and php5.3.

== SimianGrid ==


  # Visit Grid/install.php (relative to where you copied the Simian directory previously) and follow through the installation steps. This helper will create config files, load database schemas and fixtures and check for file and directory permissions where required.
# After running the installer, you may wish to remove write permissions from the config files.
  # Visit the URL that SimianGrid is installed at. If everything is working correctly it should print out `SimianGrid`. If you receive a blank page or an error, check for a log file in the `logs/` directory or your Apache error log.

== SimianGridFrontend ==

!SimianGridFrontend is a user-facing web portal for your world that provides user creation and account management, grid administration, and web-based world login. Currently, !SimianGridFrontend is required to import the default asset set into !SimianGrid.

 # Visit GridFrontend/install.php (relative to where you copied the Simian directory previously) and follow through the installation steps. This helper will create config files, load database schemas and fixtures and check for file and directory permissions where required.
# After running the installer, you may wish to remove write permissions from the config files.
  # Go to the starting page for !SimianGridFrontend and verify that it works. Next, try creating a user account and logging in and logging out.


== Running with !OpenSim ==

  # Once you have configured your !OpenSim.ini file to use the !SimianGrid.ini include, and modified your !GridCommon.ini file with the !SimianGrid service URLs (look at !SimianGrid.ini for example URLs), you should be able to start one or more !OpenSim regions that will register themselves with the grid service.
  # You can now login with an !OpenSim-compatible viewer. If you installed !SimianGrid at `http://www.mygrid.com/`, launch your viewer with:

{{{
-loginuri http://www.mygrid.com/login/
}}}

 (note the trailing slash). You may need to append index.php to the end of the loginuri if your web server is not configured to serve up php files by default.


== Troubleshooting ==

Problem: Web server logs report "PHP Fatal error:  Call to undefined function openssl_random_pseudo_bytes()".

Solution: Verify you have PHP >= 5.3 installed.  Verify that the OpenSSL extension is enabled for PHP (e.g. `extension=openssl.so` in php.ini), even if you're not using HTTP over SSL/TLS.